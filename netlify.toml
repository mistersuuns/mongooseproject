[build]
  # Force Netlify to treat this as a static site: no build step, just publish `site/`
  command = ""
  publish = "site"

[build.environment]
  # Avoid framework detection doing extra installs; this is just a static publish.
  NODE_VERSION = "20"

# Cache rules to help Cloudflare reduce Netlify bandwidth usage
[[headers]]
  for = "/*"
  [headers.values]
    Cache-Control = "public, max-age=3600, must-revalidate"

[[headers]]
  for = "/images/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/assets/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# Don't cache admin panel
[[headers]]
  for = "/admin/*"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
